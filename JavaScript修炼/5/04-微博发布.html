<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        ul {
            list-style-type: none;
        }
        
        * {
            margin: 0;
            padding: 0;
        }
        
        .box {
            margin: 100px auto;
            width: 600px;
            height: auto;
            border: 1px solid #333;
            padding: 30px 0;
        }
        
        textarea {
            width: 450px;
            resize: none;
            /*防止用户拖动 右下角*/
        }
        
        .box li {
            width: 450px;
            line-height: 30px;
            border-bottom: 1px dashed #ccc;
            margin-left: 80px;
        }
    </style>
</head>

<body>
    <div class="box">
        微博发布: <textarea name="" id="" cols="30" rows="10"></textarea>
        <button>发布</button>

        <script>
            let button = document.querySelector('button');
            let text = document.querySelector('textarea');

            let ul = document.createElement('ul');
            button.parentNode.insertBefore(ul, document.querySelector('script'));

            button.addEventListener('click', function() {
                if (text.value === '') {
                    alert('输入不能为空');
                    return;
                }

                let li = document.createElement('li');
                li.innerHTML = text.value + '<a id="delete" href="javascript:;" style="float:right;">删除</a>';
                if (ul.children.length === 0) {
                    ul.appendChild(li);
                } else {
                    ul.insertBefore(li, ul.firstElementChild);
                }
                text.value = '';

                let aDelete = document.getElementsByTagName('a');
                Array.from(aDelete).forEach(function(a) {
                    a.addEventListener('click', function() {
                        ul.removeChild(this.parentNode);
                    });
                });
            });
        </script>

    </div>
</body>

</html>